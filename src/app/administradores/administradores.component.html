<ng-template #modalExclusaoAdm let-modal>
  <div class="modal-body">
    <div class="d-flex justify-content-between">
      <h4 class="modal-title text-dark-blue text-center">
        Você realmente deseja remover
        {{ nomeGerenteDelete ? nomeGerenteDelete : "este gerente" }}?
      </h4>
    </div>

    <div class="d-block d-md-flex mt-3 mb-2">
      <div class="col-12 col-md-6 me-0 me-md-2 mb-2 mb-md-0 pe-2">
        <app-btn-purple
          [textButton]="'Confirmar'"
          [showIcon]="true"
          [iconFirst]="true"
          [icone]="faConfirm"
          (emmiterClick)="deletarEspacoEsportivo()"
        ></app-btn-purple>
      </div>

      <div class="col-12 col-md-6 pe-2">
        <app-btn-red
          [textButton]="'Cancelar'"
          [showIcon]="true"
          [iconFirst]="true"
          [icone]="faClose"
          (emmiterClick)="closeModal()"
        ></app-btn-red>
      </div>
    </div>
  </div>
</ng-template>

<ngx-ui-loader [loaderId]="'loader-01'"></ngx-ui-loader>

<div class="mx-3 mt-4">
  <h3 class="text-purple font-weight-bold">Administradores cadastrados</h3>

  <div class="row justify-content-between mt-5">
    <div class="col-12 col-md-5">
      <form [formGroup]="formSearch">
        <app-input-search
          [formGroup]="formSearch"
          controlName="searchValue"
          placeholder="Pesquisar..."
          (emitterSearch)="searchAdms()"
        ></app-input-search>
      </form>
    </div>

    <div class="col-12 col-md-3">
      <app-btn-purple
        textButton="Novo administrador"
        [showIcon]="true"
        [icone]="faPlus"
        (emmiterClick)="navigate('novo-administrador')"
      ></app-btn-purple>
    </div>
  </div>

  <div class="table-content">
    <div class="text-center" *ngIf="adms?.length! > 5">
      <pagination-controls
        (pageChange)="p = $event"
        previousLabel="<"
        nextLabel=">"
      ></pagination-controls>
    </div>

    <div class="table-scroll">
      <div *ngIf="adms.length == 0; else administradores">
        <h3 class="text-dark-blue text-center">
          Nenhum administrador(a) foi cadastrado até o momento :(
        </h3>
      </div>

      <ng-template #administradores>
        <table class="table">
          <thead>
            <tr class="text-center">
              <th scope="col">Nome</th>
              <th scope="col">E-mail</th>
              <th scope="col">Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="
                let a of formSearch.valid
                  ? admsFilter
                  : (adms | paginate : { itemsPerPage: 5, currentPage: p })
              "
              class="text-center"
            >
              <td>
                <p class="mb-0 mt-2">{{ a.nome }}</p>
              </td>

              <td>
                <p class="mb-0 mt-2">{{ a.email }}</p>
              </td>

              <td>
                <div class="d-flex justify-content-center">
                  <button class="btn-acoes me-2" (click)="openModalDetalhes(a)">
                    <fa-icon [icon]="faEye"></fa-icon>
                  </button>

                  <button
                    class="btn-acoes"
                    (click)="openModalConfirmacao(modalExclusaoAdm, a.id!, a.nome!)"
                    *ngIf="adms?.length! > 1 && userId !== a.idUsuario"
                  >
                    <fa-icon [icon]="faTrash"></fa-icon>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-template>
    </div>
  </div>
</div>
