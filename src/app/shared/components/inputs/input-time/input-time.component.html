<div [formGroup]="formGroup" class="mb-3">
  <app-label [idInput]="controlName" [textLabel]="label"></app-label>
  <div
    class="d-flex input-time-content"
    [ngClass]="{
      'is-invalid-input-time': inputValid()
    }"
  >
    <ng-container *ngIf="haveMaxTime">
      <input
        type="text"
        class="input-time w-100"
        formControlName="{{ controlName }}"
        id="{{ controlName }}"
        name="{{ controlName }}"
        placeholder="{{ placeholder }}"
        (focus)="pickerClockMax.open()"
        (click)="pickerClockMax.open()"
        readonly
        [ngxTimepicker]="pickerClockMax"
        [format]="24"
        [max]="maxTime"
      />

      <ngx-material-timepicker
        #pickerClockMax
        [theme]="myTheme"
        [cancelBtnTmpl]="cancelBtn"
        [confirmBtnTmpl]="confirmBtn"
      ></ngx-material-timepicker>

      <button
        (click)="pickerClockMax.open()"
        class="btn-time pe-2"
        type="submit"
      >
        <fa-icon [icon]="faClock"></fa-icon>
      </button>
    </ng-container>

    <ng-container *ngIf="haveMinTime">
      <input
        type="text"
        class="input-time w-100"
        formControlName="{{ controlName }}"
        id="{{ controlName }}"
        name="{{ controlName }}"
        placeholder="{{ placeholder }}"
        (focus)="pickerClockMin.open()"
        (click)="pickerClockMin.open()"
        readonly
        [ngxTimepicker]="pickerClockMin"
        [format]="24"
        [min]="minTime"
      />

      <ngx-material-timepicker
        #pickerClockMin
        [theme]="myTheme"
        [cancelBtnTmpl]="cancelBtn"
        [confirmBtnTmpl]="confirmBtn"
      ></ngx-material-timepicker>

      <button
        (click)="pickerClockMin.open()"
        class="btn-time pe-2"
        type="submit"
      >
        <fa-icon [icon]="faClock"></fa-icon>
      </button>
    </ng-container>

    <ng-container *ngIf="!haveMinTime && !haveMaxTime">
      <input
        type="text"
        class="input-time w-100"
        formControlName="{{ controlName }}"
        id="{{ controlName }}"
        name="{{ controlName }}"
        placeholder="{{ placeholder }}"
        (focus)="pickerClock.open()"
        (click)="pickerClock.open()"
        readonly
        [ngxTimepicker]="pickerClock"
        [format]="24"
      />

      <ngx-material-timepicker
        #pickerClock
        [theme]="myTheme"
        [cancelBtnTmpl]="cancelBtn"
        [confirmBtnTmpl]="confirmBtn"
      ></ngx-material-timepicker>

      <button (click)="pickerClock.open()" class="btn-time pe-2" type="submit">
        <fa-icon [icon]="faClock"></fa-icon>
      </button>
    </ng-container>

    <ng-template #cancelBtn>
      <app-btn-red [textButton]="'Cancelar'"></app-btn-red>
    </ng-template>
    <ng-template #confirmBtn>
      <app-btn-purple [textButton]="'Confirmar'"></app-btn-purple>
    </ng-template>
  </div>
</div>
